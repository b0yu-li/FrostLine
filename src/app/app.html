@if (videoUrl()) {
  <video
    #videoRef
    [src]="videoUrl()"
    (timeupdate)="onTimeUpdate($event)"
    controls
    class="video-bg">
  </video>
}

@if (!isReady()) {
  <div class="setup-container">
    <div class="setup-card">
      <h2>ðŸš€ Setup FrostLine</h2>

      <div class="input-group">
        <label>1. Select Video Background</label>
        <input type="file" accept="video/*" (change)="onVideoSelected($event)">
      </div>

      <div class="input-group">
        <label>2. Select Lyrics JSON</label>
        <input type="file" accept=".json" (change)="onLyricsSelected($event)">
        @if (jsonFileName()) {
          <small>Loaded: {{ jsonFileName() }}</small>
        }
      </div>
    </div>
  </div>
}

@if (isReady()) {
  <div class="overlay-container">
    <div class="glass-card" [style.width.px]="cardWidth()">

      @for (line of [currentLine()]; track line) {
        <p class="lyrics-text" [@lyricChange]>
          {{ line }}
        </p>
      }

    </div>
  </div>
}
